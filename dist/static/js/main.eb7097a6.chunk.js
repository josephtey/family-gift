(this["webpackJsonptimezone-converter"]=this["webpackJsonptimezone-converter"]||[]).push([[0],{169:function(e,t,n){},170:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(20),s=n.n(r),i=(n(169),n(33)),o=n(24),u=n(38),j=(n(170),n(219)),l=n(217),d=n(131);n(203);d.a.initializeApp({apiKey:"AIzaSyDyBlYHayJJxJ_39xIk7j3swZt9V1BYxYE",authDomain:"family-gift-85cf0.firebaseapp.com",projectId:"family-gift-85cf0",storageBucket:"family-gift-85cf0.appspot.com",messagingSenderId:"254392565266",appId:"1:254392565266:web:1aec5e8f9249bf774462cb"});var b,h,O,f,p,x=d.a,g=(n(90),n(39)),m=n(41),v=n(216),C=n(204),S=n(6),y=g.a.div(b||(b=Object(u.a)(["\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  a {\n    text-align: center;\n  }\n"]))),w=function(e){var t=e.setLoading,n=e.setUser,a=e.gotoCreateAccountScreen,r=Object(m.useToasts)().addToast,s=Object(c.useState)(""),u=Object(o.a)(s,2),j=u[0],l=u[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),h=b[0],O=b[1];return Object(S.jsxs)(y,{children:[Object(S.jsx)(v.a,{id:"email",placeholder:"Email",onChange:function(e){l(e.target.value)}}),Object(S.jsx)(v.a,{id:"password",type:"password",placeholder:"Password",onChange:function(e){O(e.target.value)}}),Object(S.jsx)("br",{}),Object(S.jsx)(C.a,{onClick:function(){x.auth().setPersistence(x.auth.Auth.Persistence.LOCAL).then((function(){return t(!0),x.auth().signInWithEmailAndPassword(j,h).then((function(e){var c=e.user;x.firestore().collection("users").doc(e.user.uid).get().then((function(e){e.exists?(n(Object(i.a)(Object(i.a)({},c),e.data())),t(!1)):(t(!1),r("Extra user info doesn't exist",{appearance:"error"}))})).catch((function(e){r(e.message,{appearance:"error"})}))})).catch((function(e){r(e.message,{appearance:"error"}),t(!1)}))})).catch((function(e){r(e.message,{appearance:"error"}),t(!1)}))},children:"Login"}),Object(S.jsx)("br",{}),Object(S.jsx)("a",{onClick:function(){a()},children:"Create Account"})]})},L=n(218),A=n(149),k=g.a.div(h||(h=Object(u.a)(["\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  button {\n    width: 100%;\n  }\n"]))),F=function(e){var t=e.setLoading,n=e.setUser,a=e.gotoLoginScreen,r=Object(m.useToasts)().addToast,s=Object(c.useState)(""),u=Object(o.a)(s,2),j=u[0],l=u[1],d=Object(c.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),b=Object(o.a)(d,2),h=b[0],O=b[1],f=Object(c.useState)(""),p=Object(o.a)(f,2),g=p[0],y=p[1];return Object(S.jsxs)(k,{children:[Object(S.jsx)("a",{onClick:function(){a()},children:"Back"}),Object(S.jsx)("br",{}),Object(S.jsxs)(L.a,{autoComplete:"off",children:[Object(S.jsx)(L.a.Field,{children:Object(S.jsx)(v.a,{id:"email",placeholder:"Email",onChange:function(e){l(e.target.value)}})}),Object(S.jsx)(L.a.Field,{children:Object(S.jsx)(A.a,{value:h,onChange:O})}),Object(S.jsx)(L.a.Field,{children:Object(S.jsx)(v.a,{id:"password",type:"password",placeholder:"Password",onChange:function(e){y(e.target.value)}})}),Object(S.jsx)("br",{}),Object(S.jsx)(C.a,{onClick:function(){x.auth().setPersistence(x.auth.Auth.Persistence.LOCAL).then((function(){return t(!0),x.auth().createUserWithEmailAndPassword(j,g).then((function(e){var c=e.user;x.firestore().collection("users").doc(e.user.uid).set({timezone:h.value?h.value:h}).then((function(){n(Object(i.a)(Object(i.a)({},c),{},{timezone:h.value?h.value:h})),t(!1),r("You have successfully created your account!",{appearance:"success"})})).catch((function(e){t(!1),r(e.message,{appearance:"error"})}))})).catch((function(e){r(e.message,{appearance:"error"}),t(!1)}))})).catch((function(e){r(e.message,{appearance:"error"}),t(!1)}))},children:"Create Acount"})]})]})},P=function(e){var t=e.setUser,n=e.user,a=e.setLoading,r=e.children,s=Object(c.useState)("login"),i=Object(o.a)(s,2),u=i[0],j=i[1];return n?Object(S.jsx)(S.Fragment,{children:r}):Object(S.jsx)(S.Fragment,{children:"login"===u?Object(S.jsx)(w,{setLoading:a,setUser:t,gotoCreateAccountScreen:function(){j("create-account")}}):"create-account"===u?Object(S.jsx)(F,{setLoading:a,setUser:t,gotoLoginScreen:function(){j("login")}}):Object(S.jsx)("div",{children:"Error occurred"})})},U=n(134),E=n.n(U),T=n(147),z=n(148),I=n.n(z),B=g.a.div(O||(O=Object(u.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]))),J=g.a.div(f||(f=Object(u.a)(["\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  height: 40px;\n"]))),D=function(e){var t=e.user,n=e.setUser;return t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(B,{children:Object(S.jsxs)(J,{children:[Object(S.jsx)("div",{children:t.email}),Object(S.jsx)(C.a,{onClick:Object(T.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.auth().signOut(),n(null);case 2:case"end":return e.stop()}}),e)}))),children:"Sign-Out"})]})}),Object(S.jsx)(I.a,{format:"h:mm A",ticking:!0,timezone:t.timezone,style:{fontSize:"60px"}})]}):null},Y=g.a.div(p||(p=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  flex-direction: column;\n  gap: 10px;\n"]))),W=function(){var e=Object(m.useToasts)().addToast,t=Object(c.useState)(null),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!0),u=Object(o.a)(s,2),d=u[0],b=u[1];return Object(c.useEffect)((function(){x.auth().onAuthStateChanged((function(t){t?x.firestore().collection("users").doc(x.auth().currentUser.uid).get().then((function(t){t.exists?r(Object(i.a)(Object(i.a)({},x.auth().currentUser),t.data())):e("Extra user info doesn't exist",{appearance:"error"}),b(!1)})).catch((function(t){e(t.message,{appearance:"error"})})):b(!1)}))}),[]),d?Object(S.jsx)(Y,{children:Object(S.jsx)(j.a,{active:!0,inverted:!0,children:Object(S.jsx)(l.a,{inverted:!0})})}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Y,{children:Object(S.jsx)(P,{setLoading:b,setUser:r,user:a,children:Object(S.jsx)(D,{user:a,setUser:r})})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,221)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(201);s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(m.ToastProvider,{children:Object(S.jsx)(W,{})})}),document.getElementById("root")),Z()}},[[202,1,2]]]);