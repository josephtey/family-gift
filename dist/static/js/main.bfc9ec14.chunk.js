(this["webpackJsonptimezone-converter"]=this["webpackJsonptimezone-converter"]||[]).push([[0],{195:function(e,n,t){},196:function(e,n,t){},251:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),i=t(21),r=t.n(i),s=(t(195),t(16)),o=t(13),l=(t(196),t(269)),d=t(266),u=t(146);t(252);u.a.initializeApp({apiKey:"AIzaSyDyBlYHayJJxJ_39xIk7j3swZt9V1BYxYE",authDomain:"family-gift-85cf0.firebaseapp.com",projectId:"family-gift-85cf0",storageBucket:"family-gift-85cf0.appspot.com",messagingSenderId:"254392565266",appId:"1:254392565266:web:1aec5e8f9249bf774462cb"});var j,f,b,p,h,x,O,m,g,y,v,w,S,k,C,P,z,F,A,E,L,T,U,B=u.a,I=(t(99),t(14)),N=t(60),_=t(40),J=t(265),D=t(254),M=t(3),R=I.a.div(j||(j=Object(o.a)(["\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  a {\n    text-align: center;\n  }\n"]))),Y=function(e){var n=e.setLoading,t=e.setUser,c=e.gotoCreateAccountScreen,i=Object(_.useToasts)().addToast,r=Object(a.useState)(""),o=Object(s.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(s.a)(u,2),f=j[0],b=j[1];return Object(M.jsxs)(R,{children:[Object(M.jsx)(J.a,{id:"email",placeholder:"Email",onChange:function(e){d(e.target.value)}}),Object(M.jsx)(J.a,{id:"password",type:"password",placeholder:"Password",onChange:function(e){b(e.target.value)}}),Object(M.jsx)("br",{}),Object(M.jsx)(D.a,{onClick:function(){B.auth().setPersistence(B.auth.Auth.Persistence.LOCAL).then((function(){return n(!0),B.auth().signInWithEmailAndPassword(l,f).then((function(e){var a=e.user;B.firestore().collection("users").doc(e.user.uid).get().then((function(e){e.exists?(t(Object(N.a)(Object(N.a)({},a),e.data())),chrome.storage.sync.set({user:e.data()}),n(!1)):(n(!1),i("Extra user info doesn't exist",{appearance:"error"}))})).catch((function(e){i(e.message,{appearance:"error"})}))})).catch((function(e){i(e.message,{appearance:"error"}),n(!1)}))})).catch((function(e){i(e.message,{appearance:"error"}),n(!1)}))},children:"Login"}),Object(M.jsx)("br",{}),Object(M.jsx)("a",{onClick:function(){c()},children:"Create Account"})]})},Z=t(267),q=t(176),H=t(171),K=t.n(H),W=I.a.div(f||(f=Object(o.a)(["\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  button {\n    width: 100%;\n  }\n"]))),G=function(e){var n=e.setLoading,t=e.setUser,c=e.gotoLoginScreen,i=Object(_.useToasts)().addToast,r=Object(a.useState)(""),o=Object(s.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),j=Object(s.a)(u,2),f=j[0],b=j[1],p=Object(a.useState)(""),h=Object(s.a)(p,2),x=h[0],O=h[1],m=Object(a.useState)(""),g=Object(s.a)(m,2),y=g[0],v=g[1],w=Object(a.useState)(""),S=Object(s.a)(w,2),k=S[0],C=S[1];return Object(M.jsxs)(W,{children:[Object(M.jsx)("a",{onClick:function(){c()},children:"Back"}),Object(M.jsx)("br",{}),Object(M.jsxs)(Z.a,{autoComplete:"off",children:[Object(M.jsx)(Z.a.Field,{children:Object(M.jsx)(J.a,{id:"email",placeholder:"Email",onChange:function(e){d(e.target.value)}})}),Object(M.jsx)(Z.a.Field,{children:Object(M.jsx)(J.a,{id:"name",placeholder:"Name",onChange:function(e){C(e.target.value)}})}),Object(M.jsx)(Z.a.Field,{children:Object(M.jsx)(K.a,{placeholder:"Enter a city/suburb",apiKey:"AIzaSyAoo4AxObgyDTt93omLUjila-ircLZX5_s",onPlaceSelected:function(e){var n=e.address_components.find((function(e){return e.types.includes("country")})).short_name,t=e.address_components[0].long_name;O("".concat(t,", ").concat(n))}})}),Object(M.jsx)(Z.a.Field,{children:Object(M.jsx)(q.a,{value:f,onChange:b})}),Object(M.jsx)(Z.a.Field,{children:Object(M.jsx)(J.a,{id:"password",type:"password",placeholder:"Password",onChange:function(e){v(e.target.value)}})}),Object(M.jsx)("br",{}),Object(M.jsx)(D.a,{onClick:function(){B.auth().setPersistence(B.auth.Auth.Persistence.LOCAL).then((function(){return n(!0),B.auth().createUserWithEmailAndPassword(l,y).then((function(e){var a=e.user,c={timezone:f.value?f.value:f,name:k,email:l,location:x};B.firestore().collection("users").doc(e.user.uid).set(c).then((function(e){t(Object(N.a)(Object(N.a)({},a),c)),chrome.storage.sync.set({user:c}),n(!1),i("You have successfully created your account!",{appearance:"success"})})).catch((function(e){n(!1),i(e.message,{appearance:"error"})}))})).catch((function(e){i(e.message,{appearance:"error"}),n(!1)}))})).catch((function(e){i(e.message,{appearance:"error"}),n(!1)}))},children:"Create Acount"})]})]})},V=function(e){var n=e.setUser,t=e.user,c=e.setLoading,i=e.children,r=Object(a.useState)("login"),o=Object(s.a)(r,2),l=o[0],d=o[1];return t?Object(M.jsx)(M.Fragment,{children:i}):Object(M.jsx)(M.Fragment,{children:"login"===l?Object(M.jsx)(Y,{setLoading:c,setUser:n,gotoCreateAccountScreen:function(){d("create-account")}}):"create-account"===l?Object(M.jsx)(G,{setLoading:c,setUser:n,gotoLoginScreen:function(){d("login")}}):Object(M.jsx)("div",{children:"Error occurred"})})},X=t(30),Q=t.n(X),$=t(63),ee=t(268),ne=(t(253),t(125)),te=t.n(ne),ae=t(126),ce=t.n(ae),ie=I.a.div(b||(b=Object(o.a)(["\n  opacity: 0;\n  transition: opacity 2s ease;\n  height: 100%;\n  width: 33%;\n  display: flex;\n  flex-direction: column;\n  border-radius: 6px;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background: white;\n  font-family: ProductSansRegular;\n  font-size: 18px;\n  color: #545454;\n  padding: 30px;\n  box-shadow: 0 0 12px -2px rgba(0,0,0,0.05);\n\n  b {\n    font-family: ProductSansBold;\n  }\n"]))),re=I.a.div(p||(p=Object(o.a)(["\n  font-family: ProductSansBold;\n  font-size: 40px;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-bottom: 10px;\n"]))),se=I.a.img(h||(h=Object(o.a)(["\n\n"]))),oe=function(e){var n=e.user,t=Object(a.useState)(null),c=Object(s.a)(t,2),i=c[0],r=c[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){var e=function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(n.location,"&appid=311bafebdf0eea75bbc8bf0076efb2b0&units=metric"));case 2:t=e.sent,r({main:t.data.main,weather:t.data.weather});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();setTimeout((function(){u(!0)}),100),e()}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ie,{className:d?"fade-in":"",children:Object(M.jsxs)("p",{children:["It\u2019s ",Object(M.jsx)("b",{children:Object(M.jsx)(te.a,{format:"h:mm A",ticking:!0,timezone:n.timezone})})," at ",Object(M.jsx)("b",{children:n.location.split(",")[0]}),". ",Object(M.jsx)("br",{}),Object(M.jsx)("b",{children:n.name})," is currently sleeping, dreaming about his future wife."]})}),Object(M.jsxs)(ie,{className:i?"fade-in":"",children:[i?Object(M.jsxs)(re,{children:[Object(M.jsxs)("div",{children:[Math.round(i.main.temp),"\xb0"]}),Object(M.jsx)(se,{src:"http://openweathermap.org/img/wn/".concat(i.weather[0].icon,"@2x.png"),width:"50px",height:"50px"})]}):null,Object(M.jsxs)("p",{style:{fontSize:"15px"},children:["Today\u2019s weather at ",Object(M.jsx)("b",{children:n.location.split(",")[0]})," is fantabulous, hopefully Joe\u2019s outside kicking a soccer ball."]})]})]})},le=t(172),de=Object(I.a)(le.a)(x||(x=Object(o.a)(["\n  background-repeat: no-repeat center center fixed;\n  background-position: center;\n  background-size: cover;\n"]))),ue=I.a.div(O||(O=Object(o.a)(["\n  animation: fade-in-scale-down 0.2s ease-out 1;\n  -webkit-animation: fade-in-scale-down 0.4s ease-in-out 1;\n  -moz-animation:    fade-in-scale-down 0.4s ease-in-out 1;\n  -o-animation:      fade-in-scale-down 0.4s ease-in-out 1;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  @keyframes fade-in-scale-down{\n    0%{\n      opacity:0;\n      -webkit-transform:scale(1.1);\n      -ms-transform:scale(1.1);\n      transform:scale(1.1)\n    }\n    \n    100%{\n      opacity:1;\n      -webkit-transform:scale(1);\n      -ms-transform:scale(1);\n      transform:scale(1);\n    }\n  }\n\n  .coverPhoto {\n    transition: flex 0.5s ease;\n  }\n\n  .coverPhoto:hover {\n    flex: 2.2;\n    transition: flex 0.5s ease;\n  }\n\n  .friendCards {\n    transition: flex 0.5s ease;\n  }\n\n  .friendCards:hover {\n    flex: 0.9;\n    transition: flex 0.5s ease;\n  }\n\n  .greeting:hover a {\n    opacity: 0.5;\n  }\n\n  .greeting a {\n    opacity: 0;\n  }\n\n  .greeting {\n    margin-bottom: 30px;\n    transition: margin-bottom 0.5s ease;\n  }\n\n  .greeting:hover {\n    margin-bottom: 0px;\n    transition: margin-bottom 0.5s ease;\n  }\n\n  .fade-in {\n    opacity: 1;\n    transition: opacity 1s ease;\n  }\n"]))),je=(I.a.div(m||(m=Object(o.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]))),I.a.div(g||(g=Object(o.a)(["\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  height: 40px;\n"]))),I.a.div(y||(y=Object(o.a)(["\n  flex: 1;\n  animation: fadein 2s;\n\n  @keyframes fadein {\n    from { opacity: 0; }\n    to   { opacity: 1; }\n  }\n"])))),fe=I.a.div(v||(v=Object(o.a)(["\n  flex: 1.5;\n  display: flex;\n  background: white;\n  padding: 10px 150px;\n  align-items: center;\n  justify-content: space-between;\n  color: #545454;\n  flex: 1;\n"]))),be=I.a.div(w||(w=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  gap: 23px;\n  flex: 1;\n"]))),pe=I.a.div(S||(S=Object(o.a)(["\n  font-family: ProductSansRegular;\n  font-size: 30px;\n"]))),he=I.a.div(k||(k=Object(o.a)(["\n  font-family: ProductSansBold;\n  font-size: 40px;\n"]))),xe=I.a.div(C||(C=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n  justify-content: flex-end;\n  opacity: 0;\n"]))),Oe=I.a.div(P||(P=Object(o.a)(["\n  font-family: ProductSansBold;\n  font-size: 45px;\n  flex-direction: row;\n  gap: 10px;\n"]))),me=I.a.img(z||(z=Object(o.a)(["\n\n"]))),ge=I.a.div(F||(F=Object(o.a)(["\n  flex-direction: column;\n  display: flex;\n  text-align: center;\n  padding: 0 15px;\n"]))),ye=I.a.div(A||(A=Object(o.a)(["\n  font-family: ProductSansRegular;\n  font-size:17px;\n"]))),ve=I.a.div(E||(E=Object(o.a)(["\n  font-family: ProductSansBold;\n  font-size: 17px;\n"]))),we=I.a.div(L||(L=Object(o.a)(["\n  flex: 0.7 ;\n  background: #F4F4F4;\n  padding: 25px 150px;\n  display: flex;\n  gap: 30px;\n"]))),Se=I.a.div(T||(T=Object(o.a)(["\n  font-family: ProductSansRegular;\n\n  a {\n    color: black;\n    opacity: 0.3;\n    transition: opacity 0.5s ease;\n  }\n\n  a:hover {\n    opacity: 0.7;\n    transition: opacity 0.5s ease;\n  }\n  \n"]))),ke=function(e){var n=e.user,t=e.setUser,c=Object(_.useToasts)().addToast,i=Object(a.useState)(null),r=Object(s.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),u=Object(s.a)(d,2),j=u[0],f=u[1],b=Object(a.useState)(!1),p=Object(s.a)(b,2),h=p[0],x=p[1],O=Object(a.useState)([]),m=Object(s.a)(O,2),g=m[0],y=m[1],v=Object(a.useState)(null),w=Object(s.a)(v,2),S=(w[0],w[1],Object(a.useState)(!1)),k=Object(s.a)(S,2),C=(k[0],k[1]),P=function(){var e=Object($.a)(Q.a.mark((function e(){var t,a,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,B.firestore().collection("friends").where("mainUser","==",n.email).get();case 3:e.sent.forEach((function(e){return t.push(e.data().otherUser)})),a=[],c=0;case 7:if(!(c<t.length)){e.next=15;break}return e.next=10,B.firestore().collection("users").where("email","==",t[c]).get();case 10:e.sent.forEach((function(e){return a.push(e.data())}));case 12:c++,e.next=7;break;case 15:y(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(n.location,"&appid=311bafebdf0eea75bbc8bf0076efb2b0&units=metric"));case 2:t=e.sent,console.log(t.data),l({main:t.data.main,weather:t.data.weather});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),P(),setTimeout((function(){C(!0)}),0)}),[]),n?Object(M.jsxs)(ue,{children:[Object(M.jsxs)(ee.a,{onClose:function(){return x(!1)},onOpen:function(){return x(!0)},open:h,children:[Object(M.jsx)(ee.a.Header,{children:"Find User"}),Object(M.jsx)(ee.a.Content,{children:Object(M.jsx)(J.a,{placeholder:"Enter email",onChange:function(e){f(e.target.value)}})}),Object(M.jsx)(ee.a.Actions,{children:Object(M.jsx)(D.a,{onClick:Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.firestore().collection("users").where("email","==",j).get().then((function(e){e.docs.length>0?e.forEach((function(e){B.firestore().collection("friends").add({mainUser:n.email,otherUser:e.data().email}).then((function(){c("User followed!",{appearance:"success"}),P(),x(!1)})).catch((function(e){c(e.message,{appearance:"error"})}))})):c("This user email is not valid.",{appearance:"error"})})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)}))),children:"Follow"})})]}),Object(M.jsx)(je,{className:"coverPhoto",children:Object(M.jsx)(de,{src:"https://firebasestorage.googleapis.com/v0/b/family-gift-85cf0.appspot.com/o/wallpapers%2Fwallpaperflare.com_wallpaper.jpg?alt=media&token=81f5fc30-45ad-4891-a4d3-32a757bb99f7",width:"100%",height:"100%"})}),Object(M.jsxs)(fe,{children:[Object(M.jsxs)(be,{className:"greeting",children:[Object(M.jsx)(Se,{children:Object(M.jsx)("a",{onClick:function(){B.auth().signOut(),t(null)},children:"Sign Out"})}),Object(M.jsx)(pe,{children:"Good Morning"}),Object(M.jsx)(he,{children:n.name})]}),Object(M.jsx)(te.a,{format:"h:mm",ticking:!0,timezone:n.timezone,style:{fontFamily:"productSansBold",fontSize:"80px"}}),Object(M.jsxs)(xe,{className:o?"fade-in":"",children:[o?Object(M.jsx)(Oe,{children:Object(M.jsxs)("p",{children:[Math.round(o.main.temp),"\xb0"]})}):null,Object(M.jsxs)(ge,{children:[Object(M.jsx)(ye,{children:n.location.split(",")[0]}),Object(M.jsx)(ve,{children:"Partly Cloudy"})]}),o?Object(M.jsx)(me,{src:"http://openweathermap.org/img/wn/".concat(o.weather[0].icon,"@2x.png"),width:"50px",height:"50px"}):null]})]}),Object(M.jsx)(we,{className:"friendCards",children:g.map((function(e,n){return Object(M.jsx)(oe,{user:e,index:n})}))})]}):null},Ce=I.a.div(U||(U=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  flex-direction: column;\n  gap: 10px;\n"]))),Pe=function(){Object(_.useToasts)().addToast;var e=Object(a.useState)(null),n=Object(s.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(!0),r=Object(s.a)(i,2),o=r[0],u=r[1];return Object(a.useEffect)((function(){chrome.storage.sync.get("user",(function(e){e.user&&c(e.user)}))}),[]),Object(a.useEffect)((function(){t&&u(!1)}),[t]),o?Object(M.jsx)(Ce,{children:Object(M.jsx)(l.a,{active:!0,inverted:!0,children:Object(M.jsx)(d.a,{inverted:!0})})}):Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Ce,{children:Object(M.jsx)(V,{setLoading:u,setUser:c,user:t,children:Object(M.jsx)(ke,{user:t,setUser:c})})})})},ze=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,272)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),a(e),c(e),i(e),r(e)}))};t(250);r.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(_.ToastProvider,{children:Object(M.jsx)(Pe,{})})}),document.getElementById("root")),ze()}},[[251,1,2]]]);